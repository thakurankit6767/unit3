<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text" id="name">
    <button  onclick="Register()">Register</button>
</body>
</html>

<script>
    // let myPromise=new Promise(function(resolve,reject){
    //  reject("hi am reject")
    // });

    // myPromise.then(function(response){
    //     console.log("responce:",responce);
    // })

    // myPromise.catch(function(error){
    //     console.log("error:",error);
    // })
  

//     let passexam=false;
//   let myPromise=new Promise(function(resolve,reject){
//      setTimeout(function(){
//     if(passexam){
//         resolve("laptop");
//     }else{
//         reject("paragon chappal");
//     }
//     },5000);
//     });

//     myPromise.then(function(response){
//         console.log("responce:",responce);
//     })

//     myPromise.catch(function(error){
//         console.log("error:",error);
//     })
  
let queue=["pablo","babu","shin chan","jethalal"];
function Register(){
let name=document.getElementById("name").value;
queue.push(name);
let message="${name}your registarion is succesfull";
alert(message)
}

let myPromise=new Promise(function(resolve,reject){
     setTimeout(function(){
    if(queue[0]===name){
        resolve("${name}its your turn now");
    }
else if(queue.length==0){
    reject("Vaccination ended")
}

    },5000);
    });

    myPromise.then(function(res){
        console.log("res:",res);
    });

    myPromise.catch(function(err){
        console.log("err:",err);
    });


    function startvaccination(){
        queue.shift();
        if(queue.length===0){
        clearInterval(id);
    }
        console.log("queue:",queue)
    }
   
  startvaccination()
 let id= setInterval(startvaccination,3000);
</script>